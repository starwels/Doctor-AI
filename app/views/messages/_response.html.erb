<div class="markdown-content border rounded-3 px-3 py-2 bg-success-subtle">
  <div data-controller="downloadable">
    <div data-downloadable-target="content">
      <%= MarkdownRenderer.new.render(message.body) %>
    </div>
    <div class="d-flex justify-content-end">
      <button class="btn btn-outline-primary btn-sm border-0 rounded-0" title="Download PDF" data-action="click->downloadable#download" data-downloadable-filename="greenminds-chat.pdf">
        Baixar PDF <i class="bi bi-file-earmark-arrow-down-fill"></i>
      </button>
    </div>
  </div>
</div>

<%= turbo_stream.after 'messages-container' do %>
  <%= javascript_tag %(
    var messagesContainer = document.getElementById('messages-container');
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  ) %>
<% end %>
